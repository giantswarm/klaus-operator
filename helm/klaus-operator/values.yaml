# Default values for klaus-operator.

name: klaus-operator
serviceType: managed

image:
  registry: gsoci.azurecr.io
  name: giantswarm/klaus-operator
  tag: ""
  pullPolicy: IfNotPresent

# Klaus agent image used for instances.
klausImage: gsoci.azurecr.io/giantswarm/klaus:latest

# Git clone init container image for workspace population.
gitCloneImage: alpine/git:v2.47.2

# Number of replicas (should be 1 with leader election, or 1 without).
replicaCount: 1

# Leader election for HA deployments.
leaderElection:
  enabled: false

# Shared Anthropic API key Secret.
anthropicKeySecret:
  name: anthropic-api-key
  namespace: ""  # Defaults to operator namespace.

# MCP server configuration.
mcp:
  port: 9090

# Muster integration.
muster:
  namespace: muster
  registerOperator: true

pod:
  user:
    id: 65532
  group:
    id: 65532

# Resource requirements for the operator.
resources:
  limits:
    cpu: 500m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Service account.
serviceAccount:
  create: true
  annotations: {}

# Metrics and monitoring.
metrics:
  enabled: true
  port: 8080

# Health probes.
probes:
  port: 8081

# ServiceMonitor for Prometheus.
serviceMonitor:
  enabled: true
  interval: "60s"
  scrapeTimeout: "45s"

# Pod security context.
podSecurityContext:
  seccompProfile:
    type: RuntimeDefault

# Container security context.
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  seccompProfile:
    type: RuntimeDefault
  capabilities:
    drop:
      - ALL

global:
  podSecurityStandards:
    enforced: false

# Node selector.
nodeSelector: {}

# Tolerations.
tolerations: []

# Affinity.
affinity: {}
